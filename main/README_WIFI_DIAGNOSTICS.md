# WiFi Diagnostics Web API

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç Web API –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Network Information API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ WiFi/–º–æ–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–∏–ø–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (slow-2g, 2g, 3g, 4g)
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏**: –û—Ü–µ–Ω–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –ú–±–∏—Ç/—Å
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏**: Round Trip Time (RTT) –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- **–†–µ–∂–∏–º —ç–∫–æ–Ω–æ–º–∏–∏ –¥–∞–Ω–Ω—ã—Ö**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –≤–∫–ª—é—á–µ–Ω –ª–∏ —Ä–µ–∂–∏–º —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–ª–ª–∞–º–∏ –æ—Ç 0 –¥–æ 6
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏ –¥–ª—è –º–µ–¥–∏–∞**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–°–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**: –ö—Ä–∞—Å–∏–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**: –≠–∫—Å–ø–æ—Ä—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ JSON —Ñ–æ—Ä–º–∞—Ç
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
const diagnostics = new WiFiDiagnostics();

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
const data = diagnostics.getDiagnostics();
console.log(data);
// {
//   effectiveType: '4g',
//   downlink: 10,
//   rtt: 50,
//   saveData: false,
//   type: 'wifi',
//   timestamp: 1707494400000
// }
```

### –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```javascript
const quality = diagnostics.getConnectionQuality();
console.log(quality);
// {
//   quality: 'excellent',
//   score: 5,
//   message: '–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ',
//   details: {...}
// }
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏ –¥–ª—è –º–µ–¥–∏–∞

```javascript
const videoCheck = diagnostics.isGoodForMedia('video');
console.log(videoCheck);
// {
//   suitable: true,
//   mediaType: 'video',
//   currentSpeed: 10,
//   requiredSpeed: 2.5,
//   currentLatency: 50,
//   maxLatency: 300
// }
```

### –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```javascript
diagnostics.onChange((data) => {
    console.log('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:', data);
});
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ UI –ø–∞–Ω–µ–ª–∏

```javascript
// –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
showWiFiDiagnostics();

// –ò–ª–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
const diagnostics = new WiFiDiagnostics();
const ui = new WiFiDiagnosticsUI(diagnostics);
ui.show();
```

## API Reference

### WiFiDiagnostics Class

#### –ú–µ—Ç–æ–¥—ã

##### `getDiagnostics()`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Object`
```javascript
{
    effectiveType: string,  // 'slow-2g', '2g', '3g', '4g'
    downlink: number,       // –°–∫–æ—Ä–æ—Å—Ç—å –≤ –ú–±–∏—Ç/—Å
    rtt: number,           // –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º—Å
    saveData: boolean,     // –†–µ–∂–∏–º —ç–∫–æ–Ω–æ–º–∏–∏
    type: string,          // –¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    timestamp: number      // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
}
```

##### `getConnectionQuality()`
–û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Object`
```javascript
{
    quality: string,    // 'excellent', 'good', 'fair', 'poor', 'unknown'
    score: number,      // –ë–∞–ª–ª –æ—Ç 0 –¥–æ 6
    message: string,    // –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
    details: Object     // –î–µ—Ç–∞–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
}
```

##### `isGoodForMedia(mediaType)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `mediaType` (string): 'video', 'audio', –∏–ª–∏ 'image'

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `Object`

##### `onChange(callback)`
–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `callback` (function): –§—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

##### `getReport()`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string`

##### `exportJSON()`
–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `string`

#### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã

##### `WiFiDiagnostics.isSupported()`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ª–∏ Network Information API –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `boolean`

### WiFiDiagnosticsUI Class

#### –ú–µ—Ç–æ–¥—ã

##### `show()`
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–∞–Ω–µ–ª—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

##### `close()`
–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç –ø–∞–Ω–µ–ª—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

##### `updateDisplay()`
–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ.

##### `toggleMinimize()`
–°–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å.

##### `exportJSON()`
–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ JSON —Ñ–∞–π–ª.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤

Network Information API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö:
- ‚úÖ Chrome 61+
- ‚úÖ Edge 79+
- ‚úÖ Opera 48+
- ‚úÖ Samsung Internet 8.0+
- ‚ö†Ô∏è Firefox - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚ùå Safari - –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

–î–ª—è –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç

### –§–∞–π–ª—ã

1. `main/wifiDiagnostics.js` - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ API
2. `main/wifiDiagnosticsUI.js` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. `styles.css` - –°—Ç–∏–ª–∏ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª)

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ HTML

```html
<script src="main/wifiDiagnostics.js"></script>
<script src="main/wifiDiagnosticsUI.js"></script>
```

### –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞

–ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üåê –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞" –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –≤–∏–¥–µ–æ

```javascript
const diagnostics = new WiFiDiagnostics();
const videoCheck = diagnostics.isGoodForMedia('video');

if (videoCheck.suitable) {
    // –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ
    loadVideo();
} else {
    // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    showWarning('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–ª—è –≤–∏–¥–µ–æ');
}
```

### –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```javascript
const diagnostics = new WiFiDiagnostics();
const quality = diagnostics.getConnectionQuality();

if (quality.quality === 'excellent' || quality.quality === 'good') {
    loadHighQuality();
} else {
    loadLowQuality();
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```javascript
const diagnostics = new WiFiDiagnostics();

diagnostics.onChange((data) => {
    if (data.effectiveType === 'slow-2g' || data.effectiveType === '2g') {
        pauseBackgroundTasks();
    } else {
        resumeBackgroundTasks();
    }
});
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω CodeQL - —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
- ‚úÖ –ö–æ–¥-—Ä–µ–≤—å—é –ø—Ä–æ–π–¥–µ–Ω–æ –±–µ–∑ –∑–∞–º–µ—á–∞–Ω–∏–π
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ù–µ —Å–æ–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ö–æ–¥ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ë–µ—Ä–ª–∏–Ω—É –ê–Ω–¥—Ä–µ—é –∏ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ –ü—Å–∏—Ö–æ–ë–ª–æ–≥.

¬© –ë–µ—Ä–ª–∏–Ω –ê–Ω–¥—Ä–µ–π
