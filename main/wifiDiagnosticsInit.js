// WiFi Diagnostics Initializer - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ WiFi
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç WiFi –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

(function() {
    'use strict';
    
    // –ñ–¥–µ–º –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ DOM
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initWiFiDiagnostics);
    } else {
        initWiFiDiagnostics();
    }
    
    function initWiFiDiagnostics() {
        try {
            // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
            const diagnostics = new WiFiDiagnostics();
            
            // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä UI
            const diagnosticsUI = new WiFiDiagnosticsUI(diagnostics);
            
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
            diagnosticsUI.createTriggerButton();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
            window.wifiDiagnostics = {
                diagnostics: diagnostics,
                ui: diagnosticsUI,
                
                // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
                show: () => diagnosticsUI.show(),
                hide: () => diagnosticsUI.hide(),
                getInfo: () => diagnostics.getConnectionInfo(),
                runTests: () => diagnostics.runFullDiagnostics(),
                getQuality: () => diagnostics.getConnectionQuality()
            };
            
            console.log('‚úÖ WiFi Diagnostics –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            console.log('üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ window.wifiDiagnostics –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏');
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ WiFi Diagnostics:', error);
        }
    }
})();
